<form>
  <div class="form-group">
    <label><strong>Item:</strong> {{item.name}}</label>
  </div>
  <div class="form-group">
    <label><strong>Owner:</strong> {{item.owner}}</label>
  </div>
  <div class="form-group">
    <label><strong>Quantity:</strong> {{item.quantity}}</label>
  </div>
  <div class="form-group">
    <label><strong>Value:</strong> {{item.value}} {{item.value_type}}</label>
  </div>

  <hr />

  <div class="form-group">
    <label>
      <input type="checkbox" id="haggleCheckbox" name="haggle" />
      Haggle Price
    </label>
  </div>

  <div id="haggleFields" style="display: none">
    <div class="form-group">
      <label>Custom Value:</label>
      <input
        type="number"
        id="customValue"
        name="customValue"
        min="1"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label>Currency:</label>
      <select id="customValueType" name="customValueType" class="form-control">
        <option value="2">Gold</option>
        <option value="3">Silver</option>
        <option value="4">Copper</option>
        <option value="1">Platinum</option>
      </select>
    </div>
  </div>
</form>

<script>
  // Toggle haggle fields based on checkbox
  $("#haggleCheckbox").change(function () {
    if ($(this).is(":checked")) {
      $("#haggleFields").show();
      $("#customValue").val("{{item.value}}");
      $("#customValueType").val("{{item.value_type_id}}");
    } else {
      $("#haggleFields").hide();
    }
  });
</script>
